# Stateパターン
状態をクラスとして表現していれば、クラスを切り替えることによって「状態の変化」を表せる。
また新しい状態を追加しなければならないときに何をプログラムすればよいかがはっきりする。

## 金庫警備システム

金庫警備システムの疑似コーディング

Stateパターンを使わない疑似コーディング
```
警備システムクラス {

  金庫を使うメソッド {
    if (昼間) {
      // 警備センターに記録が残る
    }
    if (夜間) {
      // 警備センターに非常事態の通報が行く
    }
  }

  非常ベルを使うメソッド {
    // 警備センターに非常ベルの通報が行く
  }

  通常用の電話を使うメソッド {
    if (昼) {
      // 警備センターが呼び出される
    } else if (夜) {
      // 警備センターの留守録が呼び出される
    }
  }
}
```

Stateパターンを使った疑似コーディング
```
昼間の状態クラス　{
  金庫を使うときメソッド {
    // 警備センターに記録
  }
  非常ベルメソッド　{
    // 警備センターに非常ベル通報
  }
  通常電話を使うメソッド {
    // 警備センター呼び出す
  }
}

夜間の状態クラス {
  金庫を使うときメソッド {
    // 警備センターに非常事態の通報
  }
  非常ベルメソッド　{
    // 警備センターに非常ベル通報
  }
  通常電話を使うメソッド {
    // 警備センターに留守録
  }
}
```
状態による確認のためのif文を使用しなくて住む。
状態を掘り起こすことで、深くネストされたメソッドを外に出すことができる。

## クラスとインタフェース一覧
|名前|解説|
|---|---|
|State|金庫の状態を表すインタフェース|
|DayState|Stateを実装しているクラス。昼間|
|NightState|Stateを実装しているクラス。夜間|
|Context|金庫の状態変化を管理し、警備センターとの連絡をとるインタフェース|
|SafeFrame|Contextを実装しているクラス。ボタンや画面表示などのユーザインタフェースを持つ|
|Main|動作テスト用のクラス|

